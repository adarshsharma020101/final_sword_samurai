<!DOCTYPE html>
<html>
<head>
<title>Samurai Discipline Calendar</title>
<style>
    /* FONT + BASE */
    @import url('https://fonts.googleapis.com/css2?family=Crimson+Text:wght@600&family=UnifrakturCook:wght@700&display=swap');

   body {
    margin: 0;
    padding: 40px;
    font-family: 'Crimson Text', serif;
    background: #000;
    color: #ff2b2b;

    /* âœ… Resized Samurai Background for Desktop */
    background-image: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAYEBQYFB... (full base64 string here) ...KCgo=");
    background-size: contain;  /* Changed from 'cover' to 'contain' for full visibility */
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    
    /* Alternative: If you want a larger but still visible image, use: */
    /* background-size: 100% auto; */
    
    /* Add a dark overlay for better text readability */
    position: relative;
}

    /* Dark overlay for better text contrast */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: -1;
    }

    h1 {
        text-align: center;
        font-family: 'UnifrakturCook', serif;
        font-size: 48px;
        margin-bottom: 10px;
        letter-spacing: 3px;
    }

    .quote {
        text-align: center;
        font-size: 20px;
        opacity: 0.85;
        margin-bottom: 25px;
    }

    /* INPUT + BUTTON STYLE */
    input, button {
        display: block;
        width: 60%;
        margin: 10px auto;
        padding: 10px;
        font-size: 18px;
        border: 2px solid #ff2b2b;
        border-radius: 4px;
        background: rgba(0,0,0,0.6);
        color: #ff2b2b;
        outline: none;
    }

    button {
        cursor: pointer;
        background: #ff2b2b;
        color: #000;
        font-weight: bold;
        transition: 0.2s;
    }
    button:hover {
        background: #ff4444;
    }

    /* TABLE */
    table {
        width: 100%;
        margin-top: 30px;
        border-collapse: collapse;
        background: rgba(0,0,0,0.55);
    }

    th, td {
        border: 1px solid #ff2b2b;
        padding: 10px;
        text-align: center;
        font-size: 18px;
    }

    /* STREAK */
    .streak {
        text-align: center;
        margin-top: 25px;
        font-size: 26px;
        font-weight: bold;
    }

    /* BADGES */
    .badgeBox {
        text-align: center;
        margin-top: 20px;
        font-size: 20px;
    }
    .badge {
        display: inline-block;
        background: #ff2b2b;
        color: #000;
        padding: 8px 14px;
        border-radius: 6px;
        margin: 5px;
        border: 2px solid #550000;
        font-weight: bold;
    }

    /* Checkbox styling */
    input[type="checkbox"] {
        width: 20px;
        height: 20px;
        cursor: pointer;
    }
</style>
</head>
<body>

<h1>âš” SAMURAI DISCIPLINE CALENDAR âš”</h1>
<div class="quote" id="dailyQuote"></div>

<input id="goalInput" placeholder="Enter your daily goal">
<button onclick="addGoal()">Add Goal</button>

<input id="daysInput" type="number" placeholder="Number of Days (default 30)">
<button onclick="generateCalendar()">Generate Calendar</button>

<div id="calendar"></div>

<div class="streak" id="streakCounter">Streak: 0 days</div>
<div class="badgeBox" id="badgeDisplay">No Achievements Yet.</div>

<script>
let goals = [];
let streak = localStorage.getItem("streak") ? parseInt(localStorage.getItem("streak")) : 0;

const quotes = [
    ""One must sharpen the spirit as one sharpens the blade."",
    ""When you are challenged, you are forged."",
    ""To conquer yourself is the highest victory."",
    ""The path is discipline. The reward is mastery.""
];

function setDailyQuote(){
    document.getElementById("dailyQuote").innerText =
    quotes[new Date().getDate() % quotes.length];
}
setDailyQuote();

function addGoal() {
    let g = document.getElementById("goalInput").value.trim();
    if(g !== "") goals.push(g);
    document.getElementById("goalInput").value = "";
}

function generateCalendar() {
    let days = document.getElementById("daysInput").value || 30;
    let calendar = "<table><tr><th>Day</th>";
    goals.forEach(g => calendar += `<th>${g}</th>`);
    calendar += "</tr>";

    for(let i=1; i<=days; i++){
        calendar += `<tr><td>${i}</td>`;
        goals.forEach(g => {
            let id = `${g}-${i}`;
            calendar += `<td><input type=\"checkbox\" id=\"${id}\" onclick=\"tickGoal()\"></td>`;
        });
        calendar += "</tr>";
    }

    calendar += "</table>";
    document.getElementById("calendar").innerHTML = calendar;
    updateStreak();
    updateBadges();
}

function tickGoal(){
    // Removed slash effect - now just updates streak
    updateStreak();
}

function updateStreak(){
    let allChecked = [...document.querySelectorAll("input[type=checkbox]")].every(c => c.checked);
    if(allChecked){
        streak++;
        localStorage.setItem("streak", streak);
    }
    document.getElementById("streakCounter").innerText = "Streak: " + streak + " days";
    updateBadges();
}

function updateBadges(){
    let badges = [];
    if(streak >= 3) badges.push("ðŸ¥‰ 3-Day Novice Samurai");
    if(streak >= 7) badges.push("ðŸ¥ˆ 7-Day Focused Warrior");
    if(streak >= 14) badges.push("ðŸ¥‡ 14-Day Discipline Blade");
    if(streak >= 30) badges.push("âš” 30-Day Warrior of Resolve");

    document.getElementById("badgeDisplay").innerHTML = 
        badges.length ? badges.map(b => `<div class='badge'>${b}</div>`).join("")
                      : "No Achievements Yet.";
}
</script>
</body>
</html>
