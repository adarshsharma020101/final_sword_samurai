<!DOCTYPE html>
<html>
<head>
<title>Samurai Discipline Calendar</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #000000;
        color: #ff0000;
        margin: 0;
        padding: 20px;
    }
    h1, h2 {
        text-align: center;
        font-weight: bold;
        letter-spacing: 2px;
    }
    #goalInput, #daysInput {
        width: 70%;
        padding: 10px;
        border: 2px solid red;
        background: black;
        color: red;
        display: block;
        margin: 10px auto;
    }
    button {
        padding: 10px 20px;
        background-color: red;
        border: none;
        color: black;
        font-weight: bold;
        cursor: pointer;
        display: block;
        margin: 10px auto;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        font-size: 18px;
    }
    th, td {
        border: 1px solid red;
        padding: 10px;
        text-align: center;
    }
    .streak, .quote {
        text-align: center;
        margin-top: 20px;
        font-size: 22px;
        font-weight: bold;
    }
</style>
</head>
<body>

<h1>⚔ Samurai Discipline Calendar ⚔</h1>
<div class="quote" id="dailyQuote"></div>

<input id="goalInput" placeholder="Enter your daily goal (e.g., Workout)">
<button onclick="addGoal()">Add Goal</button>

<input id="daysInput" type="number" placeholder="Number of Days to Track (Default 30)">
<button onclick="generateCalendar()">Generate Calendar</button>

<div id="calendar"></div>
<div class="streak" id="streakCounter">Streak: 0 days</div>

<!-- Samurai Slash Sound -->
<audio id="slashSound">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/31/audio_9ce2ec52c8.mp3?filename=sword-woosh-145446.mp3" type="audio/mpeg">
</audio>

<script>
let goals = [];
let streak = localStorage.getItem("streak") ? parseInt(localStorage.getItem("streak")) : 0;
const slashSound = document.getElementById("slashSound");

// Samurai quotes
const quotes = [
    "“A true warrior does not fight because he hates what is in front of him, but because he loves what is behind him.”",
    "“Do not pray for an easy life. Pray for the strength to endure a difficult one.” – Bruce Lee",
    "“Discipline is choosing what you want most over what you want now.”",
    "“The warrior who masters himself is mightier than he who conquers a thousand enemies.”",
    "“Victory is reserved for those willing to pay its price.”",
    "“The way of the Samurai is found in death — meaning complete dedication to purpose.”",
    "“It’s not about being the best. It’s about being better than you were yesterday.”"
];

// Daily quote logic
function setDailyQuote(){
    let dayIndex = new Date().getDate() % quotes.length;
    document.getElementById("dailyQuote").innerText = quotes[dayIndex];
}
setDailyQuote();

function addGoal() {
    let goal = document.getElementById("goalInput").value;
    if(goal.trim() !== ""){
        goals.push(goal);
        document.getElementById("goalInput").value = "";
        alert("Goal Added!");
    }
}

function generateCalendar() {
    let days = document.getElementById("daysInput").value || 30;
    let calendar = "<table><tr><th>Day</th>";

    goals.forEach(g => calendar += `<th>${g}</th>`);
    calendar += "</tr>";

    for(let i=1; i<=days; i++){
        calendar += `<tr><td>${i}</td>`;
        goals.forEach((g, index) => {
            let id = `${g}-${i}`;
            calendar += `<td><input type="checkbox" id="${id}" onclick="tickGoal()"></td>`;
        });
        calendar += "</tr>";
    }

    calendar += "</table>";
    document.getElementById("calendar").innerHTML = calendar;
    updateStreak();
}

function tickGoal() {
    slashSound.currentTime = 0;
    slashSound.play();
    updateStreak();
}

function updateStreak(){
    let allChecked = true;
    document.querySelectorAll("input[type=checkbox]").forEach(c => {
        if(!c.checked) allChecked = false;
    });

    if(allChecked){
        streak++;
        localStorage.setItem("streak", streak);
    }

    document.getElementById("streakCounter").innerText = "Streak: " + streak + " days";
}
</script>

</body>
</html>
